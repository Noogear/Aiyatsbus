

#         Powered by TabooLib 6.2         #


basic:
  id: healing_ranged_combat
  name: "妙手"
  max_level: 3

rarity: 传奇
targets:
  - 弓
  - 弩
  - 三叉戟

limitations: [ ]

display:
  description:
    general: "使得被射中/抛掷中的血量降低的玩家血量恢复"
    specific: "&7使得被射中/抛掷中的血量降低的玩家血量恢复&a{血量}"

variables:
  leveled:
    血量: "点:3*{level}"
  ordinary:
    require-full-charge: true

mechanisms:
  listeners:
    on-damage:
      listen: "entity-damage-other"
      handle: |-
        if not instance-of &event[entity] is org.bukkit.entity.Player then {
          exit
        }
        if not check &event[cause] is PROJECTILE then {
          exit
        }
        remove-entity &event[attacker]
        set &event[is-cancelled] to true
        set added to math add [ &event[entity.health] type double &血量 ]
        add-potion-effect GLOWING on &event[entity] duration 3 amplifier 1
        set &event[entity.health] to min &added &event[entity.max-health]
